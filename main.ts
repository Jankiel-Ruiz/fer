scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    tiles.setTileAt(location, myTiles.transparency16)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile3, function (sprite, location) {
    info.changeScoreBy(1)
    tiles.setTileAt(location, myTiles.transparency16)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (jugador.vy == 0) {
        jugador.vy = -100
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    jugador.setImage(img`
        . . . . . f f f f f f . . . . . 
        . . . . f 2 f e e e e f f . . . 
        . . . f 2 2 2 f e e e e f f . . 
        . . . f e e e e f f e e e f . . 
        . . f e 2 2 2 2 e e f f f f . . 
        . . f 2 e f f f f 2 2 2 e f . . 
        . . f f f e e e f f f f f f f . 
        . . f e e 4 4 f b e 4 4 e f f . 
        . . f f e d d f 1 4 d 4 e e f . 
        . f d d f d d d d 4 e e e f . . 
        . f b b f e e e 4 e e f f . . . 
        . f b b e d d 4 2 2 2 f . . . . 
        . . f b e d d e 2 2 2 e . . . . 
        . . . f f e e f 4 4 4 f . . . . 
        . . . . . f f f f f f . . . . . 
        . . . . . . . f f f . . . . . . 
        `)
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    jugador.setImage(img`
        .................
        .................
        .................
        .................
        .....fffffff.....
        ....f2222222f....
        ...f222222222f...
        ..f2f2222222f2f..
        ..f2fff222fff2f..
        .ff2f11f2f11f2ff.
        .f22f11f2f11f22f.
        .f222ff222ff222f.
        ..f22222222222f..
        ..ff222222222ff..
        ....fffffffff....
        ...f222222222f...
        ..f8f8222228f8f..
        ..f8f8822288f8f..
        ..f2f8882888f2f..
        ...ff2222222ff...
        ....f8888888f....
        ....f22fff22f....
        ....fff...fff....
        .................
        .................
        .................
        `)
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    jugador.setImage(img`
        .................
        .................
        .................
        .................
        .....fffffff.....
        ....f2222222f....
        ...f222222222f...
        ..f2f2222222f2f..
        ..f2fff222fff2f..
        .ff2f11f2f11f2ff.
        .f22f11f2f11f22f.
        .f222ff222ff222f.
        ..f22222222222f..
        ..ff222222222ff..
        ....fffffffff....
        ...f222222222f...
        ..f8f8222228f8f..
        ..f8f8822288f8f..
        ..f2f8882888f2f..
        ...ff2222222ff...
        ....f8888888f....
        ....f22fff22f....
        ....fff...fff....
        .................
        .................
        .................
        `)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    jugador.setImage(img`
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ....f2224ddeb.................
        ...ff444eddebf................
        ...ffffffeeff.................
        ....ff...fff..................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        `)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    game.over(true, effects.dissolve)
})
let jugador: Sprite = null
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555555555555555555555559999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995999999999999999995555555555555555555555555999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999559999999999999955555555555555555555555555599999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995999999999995555555555555555555555555555555999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999955555555555555555555555555555555599999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955999999955555555555555555555555555555555599999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999555555555555555555555555555555555559999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955555555555555555555555555555555555555599999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955555555555555555555555555555555555555599999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555555555555555555555555555555555555555559999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555555555555555555555555555555555555555559999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555555555555555555555555555555555555555559999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995559999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555555555555555999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999959555555555555555555555555555555555555555559999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995599555555555555555555555555555555555555555559999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999559999555555555555555555555555555555555555555559999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955999999955555555555555555555555555555555555555599999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995599999999955555555555555555555555555555555555555599999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999959999999999995555555555555555555555555555555555555999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555555555555555555555555555555555559999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955555555555555555555555555555555599999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955555555555555555555555555555555599999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555555555999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999955555555555555555555555555599999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995555555555555555555555555999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999555555555555555555555559999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999959995555555555555555555999995999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999995555555555555999999999599999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995999999999999999999999999999999599999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999959999999999995999999999995999999959999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999959999999999995999999995999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999959999999999995999999995999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999995999999999999959999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999959999999999999959999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999999959999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999959999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999995999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999599999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
tiles.setTilemap(tiles.createTilemap(hex`20000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000050000000000070000000000000000000000000000000000000700000005050000000000000700070000070000000000000000000000070000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000040000000202000002000000000000000000020000000000000000070000000300000002020200000202000700020202020202000006020202020202020202020502020101020000020202020202020202020200000202020202020202020202`, img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ..............2.................
    ...........22...................
    ..........2.....................
    ................................
    ....22..2.........2.............
    ...222..22...222222...2222222222
    222222..22222222222...2222222222
    `, [myTiles.transparency16,sprites.dungeon.floorLight5,sprites.dungeon.floorLight4,myTiles.tile1,myTiles.tile2,sprites.dungeon.floorLight0,sprites.dungeon.collectibleRedCrystal,myTiles.tile3], TileScale.Sixteen))
jugador = sprites.create(img`
    .................
    .................
    .................
    .................
    .....fffffff.....
    ....f2222222f....
    ...f222222222f...
    ..f2f2222222f2f..
    ..f2fff222fff2f..
    .ff2f11f2f11f2ff.
    .f22f11f2f11f22f.
    .f222ff222ff222f.
    ..f22222222222f..
    ..ff222222222ff..
    ....fffffffff....
    ...f222222222f...
    ..f8f822f228f8f..
    ..f8f882f288f8f..
    ..f2f8882888f2f..
    ...ff2222222ff...
    ....f8888888f....
    ....f22fff22f....
    ....fff...fff....
    .................
    .................
    .................
    `, SpriteKind.Player)
controller.moveSprite(jugador, 100, 0)
scene.cameraFollowSprite(jugador)
jugador.ay = 120
tiles.placeOnRandomTile(jugador, myTiles.tile2)
info.setScore(0)
